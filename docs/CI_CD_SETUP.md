# üöÄ CI/CD Pipeline Setup

## ‚úÖ –©–æ –±—É–ª–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

### 1. GitHub Actions Workflow (`.github/workflows/ci.yml`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π CI/CD pipeline, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—Ä–∏:
- Push –¥–æ `main`, `master`, –∞–±–æ `develop`
- Pull Request –¥–æ `main`, `master`, –∞–±–æ `develop`

### 2. Jobs —É Pipeline

#### üìã Test Job
- **–ó–∞–ø—É—Å–∫–∞—î:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏ –∑ pytest
- **–°–µ—Ä–≤—ñ—Å–∏:** PostgreSQL 15, Redis 7
- **Coverage:** –ì–µ–Ω–µ—Ä—É—î coverage reports (XML + terminal)
- **Upload:** –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î coverage –¥–æ Codecov (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

#### üîç Lint Job
- **flake8:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∏–ª—é –∫–æ–¥—É —Ç–∞ –ø–æ–º–∏–ª–æ–∫
- **black:** –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É

#### üîí Security Job
- **bandit:** –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ –∫–æ–¥—É
- **Output:** JSON report + terminal output

#### üê≥ Docker Build Job
- **Build:** –¢–µ—Å—Ç—É—î –∑–±—ñ—Ä–∫—É Docker image
- **Compose:** –ü–µ—Ä–µ–≤—ñ—Ä—è—î docker-compose.yml –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é

---

## üìÅ –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏

### `.flake8`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ —Ä—è–¥–∫–∞: 127
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: 10
- –í–∏–∫–ª—é—á–µ–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó: tests, venv, instance, —Ç–æ—â–æ

### `.bandit`
- –§–æ–∫—É—Å –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö security issues
- –í–∏–∫–ª—é—á–µ–Ω—ñ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó: tests, venv, instance

### `pyproject.toml`
- **black:** –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É (line-length: 127)
- **pytest:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤
- **coverage:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è coverage reports

---

## üéØ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### –õ–æ–∫–∞–ª—å–Ω–æ (–ø–µ—Ä–µ–¥ commit)

```bash
# 1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
pip install pytest pytest-cov flake8 black bandit

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏
pytest --cov=. --cov-report=term-missing

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∏–ª—å –∫–æ–¥—É
flake8 .

# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
black --check .

# 5. –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏
bandit -r . -ll
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (GitHub Actions)

Pipeline –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏:
- Push –¥–æ –≥—ñ–ª–æ–∫ `main`, `master`, `develop`
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—ñ Pull Request

–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –º–æ–∂–Ω–∞ –Ω–∞ –≤–∫–ª–∞–¥—Ü—ñ **Actions** —É GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó.

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Secrets

–î–ª—è –ø–æ–≤–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –¥–æ–¥–∞–π—Ç–µ –≤ GitHub Secrets:
- `GEMINI_API_KEY` - –¥–ª—è —Ç–µ—Å—Ç—ñ–≤, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Gemini API

**–Ø–∫ –¥–æ–¥–∞—Ç–∏:**
1. GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions
2. New repository secret
3. –î–æ–¥–∞—Ç–∏ `GEMINI_API_KEY` –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º –≤–∞—à–æ–≥–æ API –∫–ª—é—á–∞

---

## üìä Coverage Reports

Coverage reports –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- **XML:** `coverage.xml` (–¥–ª—è Codecov)
- **HTML:** `htmlcov/index.html` (–ª–æ–∫–∞–ª—å–Ω–æ)
- **Terminal:** –ü—ñ–¥—Å—É–º–æ–∫ —É CI logs

---

## üêõ Troubleshooting

### –¢–µ—Å—Ç–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç—å –≤ CI

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤ `requirements.txt`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ environment variables
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions

### Flake8 –ø–æ–º–∏–ª–∫–∏

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –¥–µ—è–∫—ñ –ø–æ–º–∏–ª–∫–∏
black .

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Ä—É—á–Ω—É
flake8 . --count --show-source
```

### Bandit –ø–æ–º–∏–ª–∫–∏

```bash
# –î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç
bandit -r . -f json -o security-report.json

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ–∞–π–ª
bandit -r path/to/file.py
```

---

## üìù –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚úÖ CI/CD Pipeline —Å—Ç–≤–æ—Ä–µ–Ω–æ
2. ‚è≠Ô∏è Load Testing (–Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫)
3. ‚è≠Ô∏è Penetration Testing

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-12-28  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

