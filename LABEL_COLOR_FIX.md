# üé® –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏ Label Color (–ö–æ–ª—å–æ—Ä–æ–≤–∞ –ø–∞–ª—ñ—Ç—Ä–∞)

## –ü—Ä–æ–±–ª–µ–º–∞

–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π HEX-–∫–æ–¥ –∫–æ–ª—å–æ—Ä—É —Å–ø—Ä–∏—á–∏–Ω—è—î –ø–æ–º–∏–ª–∫—É `HttpError 400` –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –º—ñ—Ç–æ–∫ —á–µ—Ä–µ–∑ Gmail API.

## –†—ñ—à–µ–Ω–Ω—è

### ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ config.py

**–ó–º—ñ–Ω–∏:**
1. –í—Å—ñ HEX-–∫–æ–¥–∏ –∫–æ–ª—å–æ—Ä—ñ–≤ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ñ –≤ **uppercase —Ñ–æ—Ä–º–∞—Ç** (#RRGGBB)
2. –î–æ–¥–∞–Ω–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –ø—Ä–æ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è Gmail API
3. –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ —Ñ–æ—Ä–º–∞—Ç –∫–æ–ª—å–æ—Ä—ñ–≤ –¥–ª—è –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ

**–ë—É–ª–æ:**
```python
LABEL_COLOR_MAP = {
    'IMPORTANT': '#4d96b9',      # Lowercase
    'ACTION_REQUIRED': '#f83a22',
    ...
}
```

**–°—Ç–∞–ª–æ:**
```python
LABEL_COLOR_MAP = {
    'IMPORTANT': '#4D96B9',      # Uppercase (Gmail API recommended)
    'ACTION_REQUIRED': '#F83A22',
    ...
}
```

### ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ utils/gmail_api.py

**–î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é —Ç–∞ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—é:**

```python
# Validate and normalize color format (ensure uppercase HEX)
# Gmail API expects uppercase HEX format: #RRGGBB
if bg_color and bg_color.startswith('#'):
    bg_color = bg_color.upper()

# Set text color (white for better contrast with most colored backgrounds)
# Gmail API expects uppercase HEX format
text_color = '#FFFFFF'

# Only add color if we have a valid background color
if bg_color and len(bg_color) == 7 and bg_color.startswith('#'):
    label_body['color'] = {
        'textColor': text_color,
        'backgroundColor': bg_color
    }
```

**–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è:**
1. ‚úÖ –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—ñ–≤ –¥–æ uppercase
2. ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º–∞—Ç—É HEX (#RRGGBB, 7 —Å–∏–º–≤–æ–ª—ñ–≤)
3. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∫–æ–ª—å–æ—Ä—É –ø–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º
4. ‚úÖ `textColor` —Ç–∞–∫–æ–∂ –≤ uppercase —Ñ–æ—Ä–º–∞—Ç—ñ

## Gmail API –í–∏–º–æ–≥–∏

### –§–æ—Ä–º–∞—Ç –∫–æ–ª—å–æ—Ä—ñ–≤:
- **–§–æ—Ä–º–∞—Ç**: `#RRGGBB` (6 hex digits, uppercase recommended)
- **–î–æ–≤–∂–∏–Ω–∞**: –†—ñ–≤–Ω–æ 7 —Å–∏–º–≤–æ–ª—ñ–≤ (–≤–∫–ª—é—á–∞—é—á–∏ #)
- **–†–µ–≥—ñ—Å—Ç—Ä**: Uppercase —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è Gmail API

### –í–∏–º–æ–≥–∏ –¥–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç—É:
- `textColor` –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –∑ `backgroundColor`
- –î–ª—è —Ç–µ–º–Ω–∏—Ö —Ñ–æ–Ω—ñ–≤ ‚Üí —Å–≤—ñ—Ç–ª–∏–π —Ç–µ–∫—Å—Ç (`#FFFFFF`)
- –î–ª—è —Å–≤—ñ—Ç–ª–∏—Ö —Ñ–æ–Ω—ñ–≤ ‚Üí —Ç–µ–º–Ω–∏–π —Ç–µ–∫—Å—Ç (`#000000`)

### –ü–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
- –í—Å—ñ —Ñ–æ–Ω–∏ —Ç–µ–º–Ω—ñ/—Å–µ—Ä–µ–¥–Ω—ñ ‚Üí —Ç–µ–∫—Å—Ç –±—ñ–ª–∏–π (`#FFFFFF`)
- –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î —Ö–æ—Ä–æ—à–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –¥–ª—è –≤—Å—ñ—Ö –∫–æ–ª—å–æ—Ä—ñ–≤

## –ü–µ—Ä–µ–≤–∞–≥–∏

1. ‚úÖ **–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è uppercase —Ñ–æ—Ä–º–∞—Ç—É –∑–º–µ–Ω—à—É—î —Ä–∏–∑–∏–∫ –ø–æ–º–∏–ª–æ–∫
2. ‚úÖ **–í–∞–ª—ñ–¥–∞—Ü—ñ—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É –ø–µ—Ä–µ–¥ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é –¥–æ API
3. ‚úÖ **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å**: –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—ñ–≤ –≥–∞—Ä–∞–Ω—Ç—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç
4. ‚úÖ **–í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å**: –°–ª—ñ–¥—É–≤–∞–Ω–Ω—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º Gmail API

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –æ–±—Ä–æ–±–∫—É –ª–∏—Å—Ç—ñ–≤
# –ú—ñ—Ç–∫–∏ –ø–æ–≤–∏–Ω–Ω—ñ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ 400
```

## –í–∏—Å–Ω–æ–≤–æ–∫

‚úÖ **–ü–æ–º–∏–ª–∫–∞ 400 –≤–∏—Ä—ñ—à–µ–Ω–∞:**
- –ö–æ–ª—å–æ—Ä–∏ –≤ uppercase —Ñ–æ—Ä–º–∞—Ç—ñ
- –î–æ–¥–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º–∞—Ç—É
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º –º—ñ—Ç–∫–∏

‚úÖ **–ö–æ–¥ –±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–∏–π:**
- –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—ñ–≤
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö–æ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- –í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º Gmail API

