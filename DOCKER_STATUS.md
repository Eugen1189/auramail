# üê≥ Docker Status Report

**–î–∞—Ç–∞:** 2025-12-25  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Redis –ø—Ä–∞—Ü—é—î, –ø–æ—Ç—Ä–µ–±—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ web/worker

## ‚úÖ –£—Å–ø—ñ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏

### Redis ‚úÖ
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `auramail-redis`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ Healthy
- **–ü–æ—Ä—Ç:** `0.0.0.0:6380->6379/tcp` (–∑–æ–≤–Ω—ñ—à–Ω—ñ–π 6380, –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π 6379)
- **–ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø–æ—Ä—Ç–æ–º:** ‚úÖ –í–ò–†–Ü–®–ï–ù–û

### PostgreSQL ‚úÖ
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `auramail-db`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ Healthy
- **–ü–æ—Ä—Ç:** `0.0.0.0:5432->5432/tcp`

## ‚ö†Ô∏è –ü–æ—Ç—Ä–µ–±—É—é—Ç—å —É–≤–∞–≥–∏

### Web (unhealthy)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `auramail-web`
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è Unhealthy
- **–ü–æ—Ä—Ç:** `0.0.0.0:5000->5000/tcp`

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**
1. –î–æ–¥–∞—Ç–æ–∫ —â–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è (healthcheck –º–æ–∂–µ –±—É—Ç–∏ –∑–∞–Ω–∞–¥—Ç–æ —Å—Ç—Ä–æ–≥–∏–º)
2. –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
3. –ü—Ä–æ–±–ª–µ–º–∞ –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:**
```bash
docker logs auramail-web --tail 50
docker exec auramail-web curl -f http://localhost:5000/health
```

### Worker (unhealthy)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `auramail-worker`
- **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è Unhealthy
- **–ü–æ—Ä—Ç:** –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π (–Ω–µ –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è)

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**
1. Worker –Ω–µ –º–∞—î healthcheck (—Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
2. –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ Redis
3. –ü—Ä–æ–±–ª–µ–º–∞ –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:**
```bash
docker logs auramail-worker --tail 50
```

## üîß –®–≤–∏–¥–∫—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –≤—Å—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker compose ps

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker compose logs

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
docker compose logs web
docker compose logs worker
docker compose logs redis
docker compose logs db

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ health check
docker exec auramail-web curl -f http://localhost:5000/health

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Redis
docker exec auramail-redis redis-cli ping

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL
docker exec auramail-db pg_isready -U auramail
```

## üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. ‚úÖ Redis –ø—Ä–∞—Ü—é—î - –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –ø–æ—Ä—Ç—ñ–≤ –≤–∏—Ä—ñ—à–µ–Ω–æ
2. ‚ö†Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ web —Ç–∞ worker
3. ‚ö†Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ health check endpoints
4. ‚ö†Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é environment variables

## üéØ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤—Å—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ healthy:

```
‚úÖ auramail-redis    - Healthy
‚úÖ auramail-db       - Healthy
‚úÖ auramail-web      - Healthy
‚úÖ auramail-worker   - Running (–º–æ–∂–µ –Ω–µ –º–∞—Ç–∏ healthcheck)
```

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –Ø–∫—â–æ web —Ç–∞ worker –ø–æ–∫–∞–∑—É—é—Ç—å "unhealthy", –∞–ª–µ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ –∑ healthcheck –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é, –∞ –Ω–µ –∑ —Å–∞–º–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏.

